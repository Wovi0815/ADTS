<!DOCTYPE html>
<html lang="en" xmlns="http://www.thymeleaf.org">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- Font Awesome -->
		<link rel="stylesheet" th:href="@{/plugins/fontawesome-free/css/all.min.css}">
		<!-- Ionicons -->
		<link rel="stylesheet" th:href="@{/dist/css/ionicons.css}">
		<!-- Tempusdominus Bbootstrap 4 -->
		<link rel="stylesheet" th:href="@{/plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css}">
		<!-- iCheck -->
		<link rel="stylesheet" th:href="@{/plugins/icheck-bootstrap/icheck-bootstrap.min.css}">
		<!-- DataTables -->
  		<link rel="stylesheet" th:href="@{/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css}">
  		<link rel="stylesheet" th:href="@{/plugins/datatables-responsive/css/responsive.bootstrap4.min.css}">
		<!-- Theme style -->
		<link rel="stylesheet" th:href="@{/dist/css/adminlte.min.css}">
		<!-- overlayScrollbars -->
		<link rel="stylesheet" th:href="@{/plugins/overlayScrollbars/css/OverlayScrollbars.min.css}">
		
		<!-- Google Font: Source Sans Pro -->
		<link th:href="@{/dist/css/google.css}" rel="stylesheet">
		
		<title></title>
		
	</head>
	<body>
	
	

	<div>
		<!-- Main content -->
    <section class="content">
      <div class="row">
        <div class="col-12">

          <!-- /.card -->

          <div class="card">
            
            <!-- /.card-header -->
            <div class="card-body">
        <!-- 下拉搜索框开始 -->   
         
		    
		      <select id="selectClass" class="form-control select2bs5"   style="width:20%;float:right">
		        
		      </select>
			  
	
        <!-- 下拉搜索框结束 -->      
            
            
              <table id="example1" class="table table-bordered table-striped">
                <thead>
                <tr>
                  <th>类标识</th>
                  <th>类名称</th>
                  <th>类描述</th>
                  <th>父类</th>
                </tr>
                </thead>
                <tbody>
                           
                <tr id="classInfo">
                  
                </tr>
                
                
                </tbody>
              </table>
            </div>
            <!-- /.card-body -->
          </div>
          <!-- /.card -->
        </div>
        <!-- /.col -->
      </div>
      <!-- /.row -->
    </section>
    <!-- /.content -->
  	</div>
	<span style="display: none;" id="midwareName" th:text="${midwareName}"></span>
	
	
	<script th:src="@{/plugins/jquery/jquery.js}" ></script>
	<script th:src="@{/plugins/bootstrap/js/bootstrap.min.js}"></script>
	<script type="module" th:src="@{/plugins/popper/popper.js}"></script>
	<!-- jQuery -->
	<script th:src="@{/plugins/jquery/jquery.min.js}"></script>
	<!-- jQuery UI 1.11.4 -->
	<script th:src="@{/plugins/jquery-ui/jquery-ui.min.js}"></script>
	<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
	 <script>
	  $.widget.bridge('uibutton', $.ui.button)
	</script> 
	<!-- Bootstrap 4 -->
	<script th:src="@{/plugins/select2/js/select2.full.min.js}"></script>
	<script th:src="@{/plugins/bootstrap4-duallistbox/jquery.bootstrap-duallistbox.min.js}"></script>
	<script th:src="@{/plugins/bootstrap-switch/js/bootstrap-switch.min.js}"></script>
	<script th:src="@{/plugins/bootstrap/js/bootstrap.bundle.min.js}"></script>
	<!-- DataTables -->
	<script th:src="@{/plugins/datatables/jquery.dataTables.min.js}"></script>
	<script th:src="@{/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js}"></script>
	<script th:src="@{/plugins/datatables-responsive/js/dataTables.responsive.min.js}"></script>
	<script th:src="@{/plugins/datatables-responsive/js/responsive.bootstrap4.min.js}"></script>
	
	<!-- ChartJS -->
	<script th:src="@{/plugins/chart.js/Chart.min.js}"></script>
	<!-- Sparkline -->
	<script th:src="@{/plugins/sparklines/sparkline.js}"></script>
	
	<!-- jQuery Knob Chart -->
	<script th:src="@{/plugins/jquery-knob/jquery.knob.min.js}"></script>
	<!-- overlayScrollbars -->
	<script th:src="@{/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js}"></script>
	<!-- AdminLTE App -->
	<script th:src="@{/dist/js/adminlte.js}"></script>

	<!-- page script -->
<script>


  $(function () {
    $("#example1").DataTable({
      "responsive": true,
      "autoWidth": false,
      "paging": true,
      "lengthChange": true,
      "searching": false,
      "ordering": true,
      "info": true,
    });
    
  });

</script>

<script type="text/javascript">

function GetRequest() {
var url = location.search; //获取url中"?"符后的字串
var theRequest = new Object();
 if (url.indexOf("?") != -1) {
       var str = url.substr(1);
       strs = str.split("&");
       for (var i = 0; i < strs.length; i++) {
           theRequest[strs[i].split("=")[0]] = decodeURIComponent(strs[i].split("=")[1]);
       }
   }
   return theRequest;
}

$(function(){
	var a=GetRequest();
	console.log("id!!!:"+a['midwareName']) //打印出传过来的id
	$.ajax({
		url:"/QueryMidwareClass.do",
		type:"post",
		async:true,
		data:{"midwareName":a['midwareName']},
		success:function(result){
		
			for(var i=0;i<result.length;i++){
				
				$("#classInfo").append(
				"<td>"+result[i].c_id+"</td>"+
				"<td>"+result[i].c_name+"</td>"+  
				"<td>"+result[i].c_desc+"</td>"+  
				"<td>"+result[i].c_father+"</td>" 
				);
				
			}
			

			
		},
		error:function(result){
			alert("未知错误联系管理员！");
		}
	});
});


</script>
	
</body>
</html>
